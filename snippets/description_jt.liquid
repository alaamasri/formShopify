{% if product-description-tabs %}
{% assign description = product-description-tabs | replace: "</iframe>", "</iframe>&thinsp;" | replace: "<h1></h1>", "" %}
{% else %}
{% assign description = product.description | replace: "</iframe>", "</iframe>&thinsp;" | replace: "<h1></h1>", "" %}
{% endif %}

{% if description %}
<style type='text/css'>  
  #tabs, .custom-product-description-tabs {
    border: none;
    background: transparent;
  }
  #judgeme_product_reviews {
    border: none !important;
  }
  #tabs-app-accordion {
    overflow: hidden;
    margin-bottom: 10px;
    padding-bottom: 2px;
  }
  #tabs > div, .custom-product-description-tabs > div, #tabs-app-accordion > div {    
    display: none;
    overflow: hidden;
    clear: both;
    margin: 0px 0px;
    background: transparent;
    padding: 20px 0px 0;
  }      
  #tabs-app-accordion > div {
  }
  #tabs-app-accordion > div:last-child {
  }
  #tabs > div[aria-hidden='false'], .custom-product-description-tabs > div[aria-hidden='false'] {
    display: block;
  }
  #tabs .spr-container, .custom-product-description-tabs > .spr-container {   
  }
  #tabs > div > span, .custom-product-description-tabs > div > span {
    display: block;
  }
  #tabs > #tabs-1, #tabs > #tabs-app-tabs-1, .custom-product-description-tabs > #tabs-1, .custom-product-description-tabs > #tabs-app-tabs-1 {
    display: block;
  }
  #tabs > ul, .custom-product-description-tabs > ul {   
    border-bottom: 5px solid #a7a49f3b; 	
  }
  #tabs > ul > li, #tabs-app-accordion > h3, .custom-product-description-tabs > ul > li {
    background-color: inherit;
    display: inline-block;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 0px;
    transition: 0.3s;
    color: #202020;
    font-size: 18px;
    font-family: 'Avenir LT Std';
    font-weight: 500;
    text-transform: uppercase;
    border-bottom: 5px solid transparent;
    margin-bottom:-5px;
    margin-right: 50px;
  }
  #tabs > ul > li a {
    color:#000
  }
  #tabs > ul > li.ui-tabs-active {
    border-bottom: 5px solid #915f39;
  }
  #tabs-app-accordion > div {
  }
  #tabs ul li a, .custom-product-description-tabs ul li a {    
  }  
  .rte a:not(.btn) {
    border-bottom:0px
  }
  #tabs > ul > li.ui-state-active a, .custom-product-description-tabs > ul > li.ui-state-active a {    
    position: relative;
    -webkit-box-sizing: initial !important;
    -moz-box-sizing: initial !important;
    box-sizing: initial !important;
  }
  #tabs > #last-tab, .custom-product-description-tabs > .last-tab {
    display: block;
    background: transparent;
    border: none;
    color: inherit;
  }
  .product_desc2 p {
      font-size: 16px;
      color: #4d5151;
      line-height: 30px;
  }

  @media only screen and (min-width:200px) and (max-width:767px){  
    .product_desc2 p {
      font-size: 14px;
      line-height: 24px;
    }
    #tabs > ul > li, #tabs-app-accordion > h3, .custom-product-description-tabs > ul > li {
      float: none;
      margin-right: 0px;
      padding: 5px 0;
      margin: 0;
      font-size:14px;
      width:100%
    }
    #tabs > ul > li a, #tabs-app-accordion > h3 a, .custom-product-description-tabs > ul > li a {
      padding: 19px 0px;
    }
    #tabs > ul, .custom-product-description-tabs > ul {
      border-bottom: 0;
    }
    #tabs > div, .custom-product-description-tabs > div, #tabs-app-accordion > div {
      padding:0px;
    }
  }
  
  @media only screen and (min-width:500px) and (max-width:767px){  
    #tabs > ul > li, #tabs-app-accordion > h3, .custom-product-description-tabs > ul > li {
      float: none;
      margin-right: 0px;
      padding: 5px 0;
      margin: 0 0 -5px;
      font-size:14px;
      width:auto;
    }
    #tabs > ul > li a, #tabs-app-accordion > h3 a, .custom-product-description-tabs > ul > li a {
      padding: 19px 15px;
    }
    #tabs > ul, .custom-product-description-tabs > ul {
      border-bottom: 5px solid #a7a49f3b;
    }
    #tabs > div, .custom-product-description-tabs > div, #tabs-app-accordion > div {
      padding:20px 0 0;
    }
  }
  
  @media only screen and (min-width:768px) and (max-width:991px){ 
    
  }
  @media only screen and (min-width:992px) and (max-width:1199px){ 
    #tabs > ul > li a, #tabs-app-accordion > h3 a, .custom-product-description-tabs > ul > li a {
    }
  }
  @media only screen and (min-width:1200px) and (max-width:1367px){ 
    #tabs > ul > li a, #tabs-app-accordion > h3 a, .custom-product-description-tabs > ul > li a {
    }
  }  
</style>

<script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.async = true;
    if (script.readyState) {
      script.onreadystatechange = function() {
        if (script.readyState == "loaded" || script.readyState == "complete") {
          script.onreadystatechange = null;
          callback();
        };
      };
    } else {
      script.onload = function() {
        callback();
      };
    };
    script.src = url;
    document.getElementsByTagName("head")[0].appendChild(script);
  };
  var jQuery191;
  loadScript("//nexusmedia-ua.github.io/cdn/easyslide/jquery191.min.js", function() {
    jQuery191 = jQuery.noConflict(true);
    jQuery191.getScript("//nexusmedia-ua.github.io/cdn/easyslide/jquery191-ui-1.10.4.min.js", function() {
      jQuery191("#tabs").tabs();
      jQuery191(".custom-product-description-tabs").tabs();
      if (navigator.userAgent.indexOf("Opera") != -1) {
        setTimeout(function() {
          jQuery191("#tabs").tabs();
          jQuery191(".custom-product-description-tabs").tabs();
        }, 100);
      };
      if (typeof($) != "undefined") {
        $("#tabs ul li a").unbind("click.smoothscroll");
        setTimeout(function() {
          $("#tabs ul li a").unbind("click.smoothscroll");
        }, 1000);
      };

      function tabsToAccordions() {
        currentState = "accordion";
        jQuery191("#tabs").each(function() {
          var e = jQuery191(document.createElement('div'));
          e.attr('id', 'tabs-app-accordion');
          var t = new Array;
          jQuery191(this).find(">ul>li").each(function() {
            t.push("<h3>" + jQuery191(this).html() + "</h3>")
          });
          var n = new Array;
          jQuery191(this).find(">div").not("#last-tab").each(function() {
            n.push(this)
          });
          for (var r = 0; r < t.length; r++) {
            e.append(t[r]).append(n[r])
          }
          jQuery191(this).before(e);
          jQuery191(this).after(jQuery191("#last-tab"));
          jQuery191(this).remove();
        });
        jQuery191("#tabs-app-accordion").accordion({
          heightStyle: "content",
          animate: 100
        });
        jQuery191(".ui-accordion-header").bind("click", function() {
          theOffset = jQuery191("#tabs-app-accordion").offset().top;
          jQuery191("html, body").animate({
            scrollTop: (theOffset - 50)
          }, 100).finish(100);
        });
      }

      function accordionsToTabs() {
        currentState = "tabs";
        jQuery191("#tabs-app-accordion").each(function() {
          var e = jQuery191(document.createElement('div'));
          e.attr('id', 'tabs');
          var t = 0;
          var n = jQuery191(document.createElement('ul'));
          jQuery191(this).find(">h3").each(function() {
            t++;
            n.append('<li><a href="#tabs-app-tabs-' + t + '">' + jQuery191(this).text() + "</a></li>")
          });
          var t = 0;
          var r = jQuery191("");
          jQuery191(this).find(">div").not("#last-tab").each(function() {
            t++;
            var ell = jQuery191(document.createElement('div'));
            ell.attr('id', 'tabs-app-tabs-' + t);
            ell.html(jQuery191(this).html());
            r = r.add(ell)
          });
          e.append(n).append(r).append(jQuery191("#last-tab"));
          jQuery191(this).before(e);
          jQuery191(this).remove()
        });
        jQuery191("#tabs").tabs()
      }
      var windowWidthToRotate = 0;
      var widthToRotate = 0;
      var currentState = "tabs";

      function updateUI() {
        if (currentState == "tabs" && (jQuery191("#tabs").size() > 0 && jQuery191("#tabs").width() <= widthToRotate) || (jQuery191(window).width() <= windowWidthToRotate)) {
          if (typeof jQuery191(window).tabs != "function") {
            jQuery191.getScript("//nexusmedia-ua.github.io/cdn/easyslide/jquery191-ui-1.10.4.min.js", function() {
              accordionsToTabs();
            });
          } else {
            accordionsToTabs();
          }
        } else if (currentState == "accordion" && jQuery191("#tabs-app-accordion").size() > 0 && jQuery191("#tabs-app-accordion").width() > widthToRotate && jQuery191(window).width() > windowWidthToRotate) {
          if (typeof jQuery191(window).tabs != "function") {
            jQuery191.getScript("//nexusmedia-ua.github.io/cdn/easyslide/jquery191-ui-1.10.4.min.js", function() {
              accordionsToTabs();
            });
          } else {
            accordionsToTabs();
          }
        }
      }
      jQuery191(function() {
        jQuery191("#tabs>ul>li").each(function() {
          widthToRotate += jQuery191(this).width();
        });
        jQuery191(window).resize(function(e) {
          updateUI();
        });
        updateUI();
      });
    });
  });
  
  $(document).ready(function() {
    if($('.prodtopcon').text() !='') {
      $('.product_para_in').html($('.prodtopcon').html());
    }
  });
</script>

<div class="prodtopcon hide">{{ description | split: "<h1" | first }}</div>

<div class="description" id="tabs" itemprop="description">
  <ul class="feture_tab_tp">
    {% assign ind = 0 %}
    {% assign description_parts = description | split: "<h1" %}
    {% for part in description_parts %}
      {% if part contains "</h1>" %}
      {% assign remove = part | split: ">" | first | append: ">" %}
      <li>
        <a href="#tabs-{{ forloop.index }}">{{ part | split: "</h1>" | first | strip_html | replace: remove, "" }}</a>
      </li>
      {% endif %}
    {% endfor %}
    
    {% if remove == blank %}
    <li>
      <a href="#tabs-999">Description</a>
    </li>
    {% endif %}
    {% comment %}
    <li>
      <a href="#tabs-9999">Reviews</a>
    </li>
    {% endcomment %}
    
    {% capture cs %}
    {% for c in product.collections %}
      {{ c.handle }}
      {% unless forloop.last %},{% endunless %}
    {% endfor %}
    {% endcapture %}
    {% assign cs = cs | split: "," %}
  </ul>
  
  {% assign description_parts = description | split: "<h1" %}
  {% for part in description_parts %}
    {% assign fp = part | append: " " | split: "</h1>" | last %}
    {% assign p = part | append: " " | split: "</h1>" | last | strip_html | replace: "&nbsp;", "" | replace: " ", "" | strip_newlines %}
    {% if part contains "</h1>" %}
      {% if p != "" or fp contains "<img " or fp contains "<iframe " %}
      <div class="product_desc2" id="tabs-{{ forloop.index }}">
        {{ part | split: "</h1>" | last | replace: "<div", "<span" | replace: "</div", "</span" }}
      </div>
      {% endif %}
    {% endif %}
  {% endfor %}
  
  {% if remove == blank %}
  <div class="featuter_tab_cnt" id="tabs-999">
	{{ product.description }}
  </div>
  {% endif %}
  <div class="featuter_tab_cnt" id="tabs-9999">
	<div id="shopify-product-reviews" data-id="{{product.id}}">{{ product.metafields.spr.reviews }}</div>
  </div>
</div>
{% endif %}